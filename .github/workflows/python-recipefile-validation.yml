name: Python recipefile validations
on:
  pull_request:
    paths:
      - 'otel-recipes-schema.json'
      - 'src/python/**/recipefile.json'
      - '.github/workflows/jsonschema-validation-template.yml'
      - '.github/workflows/recipefile-unique-validation-template.yml'
      - '.github/workflows/python-recipefile-validation.yml'
  workflow_dispatch:
jobs:
  jsonschema-tests:
    name: Validate recipefile against schema
    uses: joaopgrassi/otel-recipes/.github/workflows/jsonschema-validation-template.yml@main
    with:
      language: python

  sampleid-unique-tests:
    name: Validate sample ids
    uses: joaopgrassi/otel-recipes/.github/workflows/recipefile-unique-validation-template.yml@main
    with:
      language: python
